# .NET Desktop
# Build and run tests for .NET Desktop or Windows classic desktop solutions.
# Add steps that publish symbols, save build artifacts, and more:
# https://docs.microsoft.com/azure/devops/pipelines/apps/windows/dot-net

trigger:
  branches:
    include:
    - master
    - release/*
  tags:
    include:
    - 0.*

parameters:
  - name: versions
    type: string
    values: 
      - '2024'
      - '2023'
      - '2022'
      - '2021'
      - '2020'
      - '2019'
    default: '2024'

jobs:
- template: _build/build.yml
  parameters:
    buildConfiguration: '$(buildConfig) R25'
    revitVersion: '2025'
- ${{ if containsValue(parameters.versions, '2024' ) }}:
  - template: _build/build.yml
    parameters:
      buildConfiguration: '$(buildConfig) R24'
      revitVersion: '2024'
- ${{ if containsValue(parameters.versions, '2023' ) }}:
  - template: _build/build.yml
    parameters:
      buildConfiguration: '$(buildConfig) R23'
      revitVersion: '2023'
- ${{ if containsValue(parameters.versions, '2022' ) }}:
  - template: _build/build.yml
    parameters:
      buildConfiguration: '$(buildConfig) R22'
      revitVersion: '2022'
- ${{ if containsValue(parameters.versions, '2021' ) }}:
  - template: _build/build.yml
    parameters:
      buildConfiguration: '$(buildConfig) R21'
      revitVersion: '2021'
- ${{ if containsValue(parameters.versions, '2020' ) }}:
  - template: _build/build.yml
    parameters:
      buildConfiguration: '$(buildConfig) R20'
      revitVersion: '2020'
- ${{ if containsValue(parameters.versions, '2019' ) }}:
  - template: _build/build.yml
    parameters:
      buildConfiguration: '$(buildConfig) R19'
      revitVersion: '2019'